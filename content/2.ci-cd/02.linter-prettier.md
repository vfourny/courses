---
title: Linter et Prettier
description: 'Configurez ESLint et Prettier pour garantir la qualit√© et la coh√©rence de votre code'
icon: mdi:code-braces
---

#### Pourquoi utiliser un linter et un formatter ?

Dans un projet professionnel, il est essentiel que le code soit **coh√©rent** et **lisible** par tous les membres de l'√©quipe. Sans outils, chaque d√©veloppeur peut avoir son propre style :

```js
// D√©veloppeur 1
const user = { name: 'Alice', age: 25 }
if (user.age >= 18) console.log('Majeur')

// D√©veloppeur 2
const user = {
  name: 'Alice',
  age: 25,
}

if (user.age >= 18) {
  console.log('Majeur')
}
```

**Probl√®mes** :

- Perte de temps √† d√©battre du style
- Code difficile √† lire et √† maintenir
- Revues de code focalis√©es sur le style plut√¥t que la logique

**Solution** : utiliser un **linter** (ESLint) et un **formatter** (Prettier).

## ESLint

**ESLint** est un outil qui analyse votre code pour d√©tecter :

- Les erreurs potentielles
- Les mauvaises pratiques
- Les violations de r√®gles de style

#### Installation

```bash
npm install -D eslint @eslint/js typescript-eslint
```

#### Configuration

Cr√©ez un fichier `eslint.config.mjs` √† la racine de votre projet :

```js
import eslint from '@eslint/js'
import tseslint from 'typescript-eslint'

export default tseslint.config(
  eslint.configs.recommended,
  ...tseslint.configs.recommended,
  {
    rules: {
      // Vos r√®gles personnalis√©es
      '@typescript-eslint/no-unused-vars': 'error',
      '@typescript-eslint/no-explicit-any': 'warn',
      'no-console': 'warn',
    },
  },
)
```

Ajoutez un script dans votre `package.json` :

```json
{
  "scripts": {
    "lint": "eslint .",
    "lint:fix": "eslint . --fix"
  }
}
```

Ex√©cutez le linter :

```bash
# Analyser le code
npm run lint

# Corriger automatiquement les erreurs
npm run lint:fix
```

### Exemple d'erreurs d√©tect√©es

```typescript
// :icon{name="i-heroicons-x-circle" class="text-red-500"} Variable non utilis√©e
const unusedVariable = 'hello'

// :icon{name="i-heroicons-x-circle" class="text-red-500"} Any interdit
function test(param: any) {
  return param
}

// :icon{name="i-heroicons-exclamation-triangle" class="text-orange-500"} Console.log en production
console.log('Debug info')
```

ESLint vous signalera ces probl√®mes avant m√™me d'ex√©cuter le code.

## Prettier

**Prettier** est un outil qui formate automatiquement votre code selon des r√®gles strictes. Il g√®re :

- L'indentation
- Les espaces
- Les guillemets
- Les points-virgules
- Les retours √† la ligne

#### Installation

```bash
npm install -D prettier
```

#### Configuration

Cr√©ez un fichier `prettier.config.js` √† la racine de votre projet :

```js
export default {
  singleQuote: true,
  trailingComma: 'all',
  semi: false,
  printWidth: 80,
  tabWidth: 2,
  bracketSpacing: true,
  bracketSameLine: false,
  arrowParens: 'always',
  endOfLine: 'lf',
}
```

**Explication des options** :

- `singleQuote`: Utiliser des guillemets simples (`true`) ou doubles (`false`)
- `trailingComma`: Virgule finale (`"none"`, `"es5"`, `"all"`)
- `semi`: Ajouter des points-virgules (`true` ou `false`)
- `printWidth`: Longueur maximale d'une ligne
- `tabWidth`: Nombre d'espaces pour l'indentation
- `bracketSpacing`: Espaces entre les accolades
- `bracketSameLine`: Mettre la balise de fermeture sur la m√™me ligne
- `arrowParens`: Parenth√®ses autour des param√®tres de fonction fl√©ch√©e
- `endOfLine`: Type de saut de ligne (`"lf"`, `"crlf"`, `"cr"`, `"auto"`)


Ajoutez des scripts dans votre `package.json` :

```json
{
  "scripts": {
    "format": "prettier --write .",
    "format:check": "prettier --check ."
  }
}
```

Ex√©cutez Prettier :

```bash
# Formater tous les fichiers
npm run format

# V√©rifier le formatage sans modifier
npm run format:check
```

**Avant** :

```typescript
const user = { name: 'Alice', age: 25, email: 'alice@example.com' }
function greet(name: string) {
  return `Hello, ${name}!`
}
if (user.age >= 18) {
  console.log('Majeur')
}
```

**Apr√®s** :

```typescript
const user = { name: 'Alice', age: 25, email: 'alice@example.com' }

function greet(name: string) {
  return `Hello, ${name}!`
}

if (user.age >= 18) {
  console.log('Majeur')
}
```

### Ignorer certains fichiers

Cr√©ez un fichier `.prettierignore` :

```
node_modules
dist
build
coverage
.env
```


## Int√©gration ESLint + Prettier

ESLint et Prettier peuvent entrer en conflit (ESLint v√©rifie le style, Prettier le formate). Pour √©viter cela, nous devons d√©sactiver les r√®gles de style d'ESLint.

#### Installation

```bash
npm install -D eslint-config-prettier eslint-plugin-prettier
```

#### Configuration

Modifiez votre `eslint.config.mjs` :

```js
import eslint from '@eslint/js'
import tseslint from 'typescript-eslint'
import eslintPluginPrettier from 'eslint-plugin-prettier/recommended'

export default tseslint.config(
  eslint.configs.recommended,
  ...tseslint.configs.recommended,
  eslintPluginPrettier,
  {
    rules: {
      '@typescript-eslint/no-unused-vars': 'error',
      '@typescript-eslint/no-explicit-any': 'warn',
      'prettier/prettier': 'error',
    },
  },
)
```

Maintenant, ESLint utilisera les r√®gles de Prettier et signalera les erreurs de formatage.

## Automatisation avec un √©diteur

#### Visual Studio Code

Installez les extensions :

- **ESLint** : `dbaeumer.vscode-eslint`
- **Prettier** : `esbenp.prettier-vscode`

Ajoutez dans votre `.vscode/settings.json` :

```json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```

Votre code sera automatiquement format√© et corrig√© √† chaque sauvegarde ! üéâ

#### WebStorm

WebStorm int√®gre ESLint et Prettier nativement.

Allez dans **Preferences > Languages & Frameworks > JavaScript > Code Quality Tools** pour configurer ESLint et Prettier. Assurez-vous d'activer **Run for files** pour ESLint et de cocher **On save** pour Prettier.

## R√©sum√©

| Outil        | R√¥le                                       | Commande         |
| ------------ | ------------------------------------------ | ---------------- |
| **ESLint**   | D√©tecte les erreurs et mauvaises pratiques | `npm run lint`   |
| **Prettier** | Formate le code automatiquement            | `npm run format` |
